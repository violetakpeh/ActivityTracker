<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>dashboard</title>
</head>
<body>
<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <button class="btn btn-danger">
            <img src="/trackerLogo.jpeg" width="50" height="50">
        </button>
    </div>
    <div class="mg-3">
        <a class="navbar-brand mt-2 mt-lg-0" href="#" STYLE="color: crimson; font-size: 30px"> My_Task
        </a>

    </div>
    <div>
        <a class="btn btn-danger btn-sm mb-3" th:href="@{/logout}">Logout</a>
    </div>

</nav>

<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container-fluid ">
        <button
                class="navbar-toggler"
                type="button"
                data-mdb-toggle="collapse"
                data-mdb-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
        >
            <i class="fas fa-bars"></i>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- Navbar brand -->
            <!-- Left links -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                <li class="nav-item">
                    <a class="nav-link" href="#"></a>
                </li>
            </ul>
            <!-- Left links -->
        </div>
        <!-- Collapsible wrapper -->

        <!-- Right elements -->
        <div class="d-flex align-items-center">
            <!-- Icon -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="btn btn-secondary btn-sm mb-3" th:href="@{/addTask}">ADD TASK </a>
                </li>


                    <li class="nav-item"><a class="btn btn-primary btn-sm mb-3" th:href="@{/task/{status}(status = 'PENDING')}">PENDING</a></li>
                    <li class="nav-item"><a class="btn btn-secondary btn-sm mb-3" th:href="@{/task/{status}(status = 'IN_PROGRESS')}">IN PROGRESS</a></li>
                    <li class="nav-item"><a class="btn btn-primary btn-sm mb-3" th:href="@{/task/{status}(status = 'COMPLETED')}">COMPLETED</a></li>

                </li>
            </ul>

        </div>
        <!-- Right elements -->
    </div>
    <!-- Container wrapper -->
</nav>
<!-- Navbar -->
<div class="container my-2">
<table class="table table-striped table-bordered">
    <thead class="bg-info" >
    <tr style="background-color: steelblue">
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Time Created</th>
        <th>Time Updated</th>
        <th>Time Completed</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody class="table-info">

    <th:block th:each ="task:${tasks}">
        <tr >
                     <td>[[${task.title}]]</td>
                     <td>[[${task.description}]]</td>
                    <td> [[${task.status}]]</td>
                    <td> [[${task.createdAt}]]</td>
                    <td> [[${task.updatedAt}]]</td>
                    <td> [[${task.completedAt}]]</td>


                <td>
                    <a th:href="@{/backward/{id}(id=${task.id})}" class="text-info" data-mdb-toggle="tooltip" title="move status backward"><i class="fa fa-backward" aria-hidden="true"></i></a>
                    <a th:href="@{/forward/{id}(id=${task.id})}" class="text-danger" data-mdb-toggle="tooltip" title="move status forward"><i class="fa fa-forward" aria-hidden="true"></i></a>
                    <a th:href="@{/editTask/{id}(id=${task.id})}"  class="text-danger" data-mdb-toggle="tooltip" title="edit"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                    <a th:href="@{/viewTask/{id}(id=${task.id})}" class="text-danger" data-mdb-toggle="tooltip" title="view task"><i class="fa fa-eye" aria-hidden="true"></i></a>
                    <a th:href="@{/delete/{id}(id=${task.id})}" class="text-danger" data-mdb-toggle="tooltip" title="delete"><i class="fa fa-trash" aria-hidden="true"></i></a>
             </td>
    </tr>
    </th:block>
    </tbody>
</table>
</div>
<style>
    table {border-collapse:collapse; table-layout:fixed; width:310px;}
    table td {border:solid 1px #fab; width:100px; word-wrap:break-word;}
    body{
           }

</style>
</body>
</html>